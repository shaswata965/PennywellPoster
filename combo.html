<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>Poster</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</head>
<body>

<nav class="navbar sticky-top navbar-expand-lg navbar-light penny-nav">
    <div class="container-fluid">
        <a class="navbar-brand" href="index.html"><img alt="logo-img" class="nav-brand" src="img/pennywell-logo.png"/></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class="nav-link" aria-current="page" href="index.html">Home</a>
                <a class="nav-link active" href="combo.html">Combo</a>
                <a class="nav-link" href="special.html">Specials</a>
            </div>
        </div>
    </div>
</nav>
<div class="container-fluid previewmt-35 mb-35">
    <div class="row align-items-center">
        <div class="col-lg-6 preview-container">
            <div class="paper-container" id="printPoster">
             <p id="posterName" class="tag-text item-txt">Item Name</p>
             <p class="tag-text num-txt" id="posterNumText">Buy <span id="posterNum" class="item-num"> 2</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For</p>
             <p class="tag-text price-txt" id="posterCombo">$<span id="decimalPrice" class="decimal-txt tag-text">4</span><span class="space">&nbsp;</span><span id="pointPrice">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;99</span></p>
             <p class="tag-text ind-text">each $<span id="singlePrice">2.69</span></p>
             <p class="tag-text cond-text" id="condition">special condition</p>
            <img src="img/background.png" class="back-img img1" alt="background-img"/>
            <div id="second-tag" class="second-tag-container invisible">
                <p id="posterName2" class="tag-text item-txt2">Item Name</p>
                <p class="tag-text num-txt2" id="posterNumText2">Buy <span id="posterNum2" class="item-num2"> 2</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For</p>
                <p class="tag-text price-txt2" id="posterCombo2">$<span id="decimalPrice2" class="decimal-txt2 tag-text">4</span><span class="space">&nbsp;</span><span id="pointPrice2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;99</span></p>
                <p class="tag-text ind-text2">each $<span id="singlePrice2">2.69</span></p>
                <p class="tag-text cond-text2" id="condition2">special condition</p>
                <img src="img/background.png" class="back-img img2" alt="background-img"/>
            </div>
            </div>
            <input type="button" value="click" id="posterPrint" onclick="printPoster()">
        </div>
        <div class="col-lg-6 col-sm-12" id="first-sticker">
            <h4 class="text-center">Create First Poster</h4>
            <div class="container">
                <div class="row">
                    <div class="col-1"></div>
                    <div class="col-10 edit-poster pb-35 pt-35">
                        <label class="edit-form">
                            <p>Item Name:</p>
                            <input type="text" id="itemName" class="form-control poster-input" placeholder="Hershey's Kisses">
                        </label>
                        <label class="edit-form">
                            <p>Item Number:</p>
                            <input type="text" id="itemNumber" class="form-control poster-input" placeholder="2">
                        </label>
                        <label class="edit-form">
                            <p>Price:</p>
                            <input type="text" id="itemPrice" class="form-control poster-input" placeholder="3.99">
                        </label>
                        <label class="edit-form">
                            <p>Individual Price:</p>
                            <input type="text" id="indPrice" class="form-control poster-input" placeholder="5.69">
                        </label>
                        <label class="edit-form">
                            <p>Conditions:</p>
                            <input type="text" id="itemCond" class="form-control poster-input" placeholder="white milk only">
                        </label>
                        <p class="err-msg" id="err"><span class="alert-msg" id="alert">This is the error message</span></p>
                        <div class="container btn-container">
                            <div class="row">
                                <div class="col-lg-1 col-sm-1"></div>
                                <div class="col-lg-2 col-sm-10">
                                    <button onclick="updateValue(0)" class="btn btn-outline-primary btn-lg print-btn">Print</button>
                                </div>
                                <div class="col-lg-1"></div>
                                <div class="col-lg-4">
                                    <button onclick="addSecond()" class="btn btn-outline-primary btn-lg sticker-btn">Add Sticker</button>
                                </div>
                                <div class="col-lg-1 col-sm-1"></div>
                                <div class="col-lg-2 col-sm-1">
                                    <button onclick="formRefresh()" class="btn btn-outline-primary btn-lg rst-btn">Reset</button>
                                </div>
                                <div class="col-lg-1"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-1"></div>
                </div>
            </div>
        </div>
        <div class="col-lg-6 col-sm-12 none-sec" id="second-sticker">
            <h4 class="text-center">Create Second Poster</h4>
            <div class="container">
            <div class="row">
            <div class="col-1"></div>
            <div class="col-10 edit-poster">
                <label class="edit-form first-form">
                    <p>Item Name:</p>
                    <input type="text" id="itemName2" class="form-control poster-input" placeholder="Hershey's Kisses">
                </label>
                <label class="edit-form">
                    <p>Item Number:</p>
                    <input type="text" id="itemNumber2" class="form-control poster-input" placeholder="2">
                </label>
                <label class="edit-form">
                    <p>Price:</p>
                    <input type="text" id="itemPrice2" class="form-control poster-input" placeholder="3.99">
                </label>
                <label class="edit-form">
                    <p>Individual Price:</p>
                    <input type="text" id="indPrice2" class="form-control poster-input" placeholder="5.69">
                </label>
                <label class="edit-form">
                    <p>Conditions:</p>
                    <input type="text" id="itemCond2" class="form-control poster-input" placeholder="white milk only">
                </label>
                <p class="err-msg" id="err2"><span class="alert-msg" id="alert2">This is the error message</span></p>
                <div class="container btn-container">
                    <div class="row">
                        <div class="col-lg-5 col-sm-1"></div>
                        <div class="col-lg-2 col-sm-10">
                            <button onclick="updateValue2()" class="btn btn-outline-primary btn-lg print-btn">Print</button>
                        </div>
                        <div class="col-lg-5 col-sm-1"></div>
                    </div>
                </div>

            </div>
            <div class="col-1"></div>
            </div>
            </div>
        </div>
    </div>
</div>
<footer class="ftco-footer ftco-section">
    <div class="container">
        <div class="row">
            <div class="col-md-12 text-center">
                <p>
                    Copyright &copy;<script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>document.write(new Date().getFullYear());</script> All rights reserved | This website is designed and developed <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://shaswataweb.netlify.app/" target="_blank">Shaswata Web</a>
                </p>
            </div>
        </div>
    </div>
</footer>
<script>

    function updateValue(sticker){
        let name = document.getElementById("itemName").value;
        let num = document.getElementById("itemNumber").value;
        let price = document.getElementById("itemPrice").value;
        let indPrice = document.getElementById("indPrice").value;
        let condition = document.getElementById("itemCond").value;

        let alert = document.getElementById("alert");
        let err = document.getElementById("err");
        if(name === ""){
            alert.innerHTML = "Please enter the name of the product."
            err.classList.add("visible")
        }else if(num === ""){
            alert.innerHTML = "Please enter the number of products."
            err.classList.add("visible")
        }else if(price === ""){
            alert.innerHTML = "Please enter the special price."
            err.classList.add("visible")
        }else if(indPrice === ""){
            alert.innerHTML = "Please enter the individual price of the product."
            err.classList.add("visible")
        }else if(condition === ""){
            alert.innerHTML = "Please enter any special condition."
            err.classList.add("visible")
        }else{
            const priceArray = price.split(".");

            let nameArray = name.split(" ");
            let word = name;
            let pos = nameArray.indexOf("&");
            let cond = " "
            if(pos === -1){
                cond = "No";
            }else{
                cond = "Yes";
            }

            let firstPrice = priceArray[0];

            let secondPrice = priceArray[1];
            if (secondPrice==="00" || secondPrice === "0" || secondPrice === "" || priceArray.length === 1){

                document.getElementById("pointPrice").classList.add("invisible");
            }

            if (nameArray.length <= 3 && cond !== "Yes" && (nameArray.join(" ")).length <=11 || (nameArray.join(" ")).length <=11) {
                word = nameArray.join(" ");
                let len = word.length;
                if (len <= 5) {
                    document.getElementById("posterName").classList.add("single-small");
                } else if (len <= 11) {
                    document.getElementById("posterName").classList.add("single-medium");
                } else if (len > 11) {
                    document.getElementById("posterName").classList.add("single-large");
                }
            }else if(nameArray.length >=4 && cond === "Yes" ){
                stickerStyle(pos);
            }else if(nameArray.join(" ").length>11 && cond!=="Yes"){
                pos = Math.ceil((nameArray.length)/2);
                stickerStyle(pos);
            }
            function stickerStyle(pos){
                nameArray.splice(pos,0,"<br>");
                word = nameArray.join(" ");
                document.getElementById("posterName").classList.add("double-small");
                document.getElementById("posterNumText").classList.add("small-num-text");
                document.getElementById("posterNum").classList.add("small-num");
                document.getElementById("decimalPrice").classList.add("small-combo");
                document.getElementById("posterCombo").classList.add("small-price-txt");
                document.getElementById("pointPrice").innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+secondPrice;
            }
            const indArray = indPrice.split(".");

            document.getElementById("posterName").innerHTML = word;
            document.getElementById("posterNum").innerHTML = num;
            document.getElementById("decimalPrice").innerHTML = firstPrice;
            document.getElementById("singlePrice").innerHTML = indPrice;
            document.getElementById("condition").innerHTML = condition;

            if(sticker === 0){
                document.getElementById("posterPrint").click();
            }else{
                err.classList.remove("visible");
                document.getElementById("first-sticker").classList.add("none-sec");
                document.getElementById("second-sticker").classList.remove("none-sec");
                document.getElementById("second-tag").classList.remove("invisible");
            }
        }

    }

    function printPoster() {
        var printContents = document.getElementById("printPoster").innerHTML;
        var a = window.open("","","height=900, width=636");
        a.document.write('<html><head><title></title>');
        a.document.write('<link rel="stylesheet" href="css/style.css">')
        a.document.write('<link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@500;600;700;800;900&display=swap" rel="stylesheet">')
        a.document.write('<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">')
        a.document.write('</head><body>')
        a.document.write(printContents)
        a.document.write('</body></html>')
        a.focus();
        setTimeout(function(){a.print();},1000);
        a.document.close()
    }

    function addSecond(){
        updateValue(1);
    }

    function updateValue2(){
        let name2 = document.getElementById("itemName2").value;
        let num2 = document.getElementById("itemNumber2").value;
        let price2 = document.getElementById("itemPrice2").value;
        let indPrice2 = document.getElementById("indPrice2").value;
        let condition2 = document.getElementById("itemCond2").value;

        let alert2 = document.getElementById("alert2");
        let err2 = document.getElementById("err2");

        if(name2 === ""){
            alert2.innerHTML = "Please enter the name of the product."
            err2.classList.add("visible")
        }else if(num2 === ""){
            alert2.innerHTML = "Please enter the number of products."
            err2.classList.add("visible")
        }else if(price2 === ""){
            alert2.innerHTML = "Please enter the special price."
            err2.classList.add("visible")
        }else if(indPrice2 === ""){
            alert2.innerHTML = "Please enter the individual price of the product."
            err2.classList.add("visible")
        }else if(condition2 === ""){
            alert2.innerHTML = "Please enter any special condition."
            err2.classList.add("visible")
        }else{
            const priceArray = price2.split(".");

            let nameArray = name2.split(" ");
            let word = name2;
            let pos = nameArray.indexOf("&");
            let cond = " "
            if(pos === -1){
                cond = "No";
            }else{
                cond = "Yes";
            }

            let firstPrice = priceArray[0];

            let secondPrice = priceArray[1];
            if (secondPrice==="00" || secondPrice === "0" || secondPrice === "" || priceArray.length === 1){

                document.getElementById("pointPrice2").classList.add("invisible");
            }

            if (nameArray.length <= 3 && cond !== "Yes" && (nameArray.join(" ")).length <=11 || (nameArray.join(" ")).length <=11) {
                let word = nameArray.join(" ");
                let len = word.length;
                if (len <= 5) {
                    document.getElementById("posterName2").classList.add("single-small2");
                } else if (len <= 11) {
                    document.getElementById("posterName2").classList.add("single-medium2");
                } else if (len > 11) {
                    document.getElementById("posterName2").classList.add("single-large2");
                }
            }else if(nameArray.length >=4 && cond === "Yes" ){
                stickerStyle(pos);
            }else if(nameArray.join(" ").length>11 && cond!=="Yes"){
                pos = Math.ceil((nameArray.length)/2);
                stickerStyle(pos);
            }
            function stickerStyle(pos){
                nameArray.splice(pos,0,"<br>");
                word = nameArray.join(" ");
                document.getElementById("posterName2").classList.add("double-small2");
                document.getElementById("posterNumText2").classList.add("small-num-text2");
                document.getElementById("posterNum2").classList.add("small-num2");
                document.getElementById("decimalPrice2").classList.add("small-combo2");
                document.getElementById("posterCombo2").classList.add("small-price-txt2");
                document.getElementById("pointPrice2").innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+secondPrice;
            }


            const indArray = indPrice2.split(".");

            document.getElementById("posterName2").innerHTML = word;
            document.getElementById("posterNum2").innerHTML = num2;
            document.getElementById("decimalPrice2").innerHTML = firstPrice;
            document.getElementById("singlePrice2").innerHTML = indPrice2;
            document.getElementById("condition2").innerHTML = condition2;

            document.getElementById("posterPrint").click();
        }

    }

    function formRefresh(){
        location.reload();
    }
</script>
</body>
</html>